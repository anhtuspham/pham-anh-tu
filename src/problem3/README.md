1. Here i find 4 problems in the old code
    - Missing blockchain property in WalletBalance interface
    - Undefined variable lhsPriority
    - Redundant and inefficient filtering and sorting logic
    - Using index as key
2. In old-code.ts, I commented on all the issues I found.
3. In new-code.ts, I based the updates on the old code to improve it.